(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-742fb336"],{"0a7c":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"maintain-detail-box flex-column"},[t("div",{staticClass:"title-box"},[t("Breadcrumb",{attrs:{isCustom:!1}})],1),t("div",{staticClass:"inner-box flex-overflow"},[t("el-form",{ref:"ruleForm",staticClass:"maintainFrom",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"160px"}},[t("div",{staticClass:"item-box"},[t("h3",{staticClass:"title"},[e._v("人员参数维护")]),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"目标签约人数：",prop:"totalTarget"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.totalTarget,callback:function(a){e.$set(e.ruleForm,"totalTarget",e._n(a))},expression:"ruleForm.totalTarget"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"限制签约人数：",prop:"limitTotalTaget"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.limitTotalTaget,callback:function(a){e.$set(e.ruleForm,"limitTotalTaget",e._n(a))},expression:"ruleForm.limitTotalTaget"}})],1)],1)],1)],1),t("div",{staticClass:"item-box"},[t("h3",{staticClass:"title"},[e._v("服务包目标签约人数设置")]),t("el-row",e._l(e.ruleForm.packageVins,function(a,l){return t("el-col",{key:a.packageId,class:l%2===0?"ts-col":"",attrs:{span:8}},[t("el-form-item",{attrs:{label:a.packageName+"：",prop:"packageVins."+l+".packageTarget",rules:e.rules.packageTarget}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:a.packageTarget,callback:function(t){e.$set(a,"packageTarget",e._n(t))},expression:"item.packageTarget"}})],1)],1)}),1)],1),t("div",{staticClass:"item-box"},[t("h3",{staticClass:"title"},[e._v("人群目标签约人数设置")]),t("el-row",e._l(e.ruleForm.labelVins,function(a,l){return t("el-col",{key:a.labelId,class:l%2===0?"ts-col":"",attrs:{span:8}},[t("el-form-item",{attrs:{label:a.labelName+"：",prop:"labelVins."+l+".labelTarget",rules:e.rules.labelTarget}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:a.labelTarget,callback:function(t){e.$set(a,"labelTarget",e._n(t))},expression:"item.labelTarget"}})],1)],1)}),1)],1),t("div",{staticClass:"btn-box"},[t("el-button",{on:{click:function(a){return e.handleBackList()}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.submitForm("ruleForm")}}},[e._v("确 认")])],1)])],1)])},r=[],i=t("5176"),s=t.n(i),n=t("f499"),o=t.n(n),c=t("af75"),u={name:"team-maintain",data:function(){return{ruleForm:{keyId:"",keyName:"",totalTarget:"",limitTotalTaget:"",packageVins:[],labelVins:[]},rules:{totalTarget:[{validator:c["a"].validateInteger,trigger:"change"}],limitTotalTaget:[{validator:c["a"].validateInteger,trigger:"change"}],packageTarget:[{validator:c["a"].validateInteger,trigger:"change"}],labelTarget:[{validator:c["a"].validateInteger,trigger:"change"}]}}},created:function(){this.getMaintainDetail()},methods:{getMaintainDetail:function(){var e=this;this.$http.get("http://bj-ihealthcare.com:52081/phs/family/vin/getVinDtoByKeyId",{keyId:this.$route.query.id,keyType:4}).then(function(a){if(200===a.code){var t=a.data;for(var l in e.ruleForm)e.ruleForm[l]=t[l]}else e.$message.error(a.msg)}).catch(function(a){e.$message.error(a)})},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(e){var t={},l=JSON.parse(o()(a.ruleForm));t.packageVinsJson=o()(l.packageVins),t.labelVinsJson=o()(l.labelVins),t.keyType=4,delete a.ruleForm.packageVins,delete a.ruleForm.labelVins,t=s()({},a.ruleForm,t),a.$http.post("http://bj-ihealthcare.com:52081/phs/family/vin/updateVinDto",t).then(function(e){200===e.code?(a.$message.success("修改成功"),a.handleBackList()):a.$message.error(e.msg)}).catch(function(e){a.$message.error(e)})}})},handleBackList:function(){this.$router.push({path:"/basicData-manage/user-manage/list"})}}},m=u,g=(t("2f8e"),t("2877")),p=Object(g["a"])(m,l,r,!1,null,"3450ed22",null);a["default"]=p.exports},"2f8e":function(e,a,t){"use strict";var l=t("fff8"),r=t.n(l);r.a},5176:function(e,a,t){e.exports=t("51b6")},fff8:function(e,a,t){}}]);
//# sourceMappingURL=chunk-742fb336.e893bef3.js.map