(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d94995e"],{5176:function(e,t,a){e.exports=a("51b6")},aea3:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-common-box"},[a("div",{staticClass:"title-box"},[a("h2",[e._v("门诊信息管理")]),a("div",{staticClass:"rightbox"},[a("div",{staticClass:"item",on:{click:function(t){return e.handleReport()}}},[a("cc-svg-icon",{attrs:{"icon-class":"merge"}}),a("span",[e._v("合并报告")])],1)])]),a("div",{staticClass:"card-box"},[a("div",{staticClass:"search-bar"},[a("div",{staticClass:"search-left"},[a("div",{staticClass:"search-item"},[a("span",{staticClass:"search-label"},[e._v("身份证号")]),a("el-input",{attrs:{placeholder:"请输入身份证号",clearable:""},model:{value:e.searchKey.idNo,callback:function(t){e.$set(e.searchKey,"idNo","string"===typeof t?t.trim():t)},expression:"searchKey.idNo"}})],1),a("div",{staticClass:"search-item"},[a("span",{staticClass:"search-label"},[e._v("姓名")]),a("el-input",{attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.searchKey.userName,callback:function(t){e.$set(e.searchKey,"userName","string"===typeof t?t.trim():t)},expression:"searchKey.userName"}})],1),a("div",{staticClass:"search-item"},[a("span",{staticClass:"search-label"},[e._v("性别")]),a("el-select",{attrs:{placeholder:"请选择性别",clearable:""},model:{value:e.searchKey.sexType,callback:function(t){e.$set(e.searchKey,"sexType",t)},expression:"searchKey.sexType"}},e._l(e.sexOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)]),a("div",{staticClass:"search-right"},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-search"},on:{click:function(t){return e.querylist()}}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-delete"},on:{click:function(t){return e.Refreshlist()}}},[e._v("清空")])],1)]),a("div",{staticClass:"table-box noselection-table"},[a("el-table",{ref:"multipleTable",attrs:{data:e.dataList,"tooltip-effect":"dark",stripe:"",height:"100%"},on:{select:e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.selectable}}),a("el-table-column",{attrs:{prop:"userName",label:"姓名",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.userName?t.row.userName:e.EMPTYTEXT)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"idNo",label:"身份证号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.idNo?t.row.idNo:e.EMPTYTEXT)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"sexTypeStr",label:"性别",align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.sexTypeStr?t.row.sexTypeStr:e.EMPTYTEXT)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"mobile",label:"电话号码",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.mobile?t.row.mobile:e.EMPTYTEXT)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"registerOrganization",label:"机构",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.registerOrganization?t.row.registerOrganization:e.EMPTYTEXT)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"registerUser",label:"接诊医生",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.registerUser?t.row.registerUser:e.EMPTYTEXT)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"createDateStr",label:"最后测量时间",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.createDateStr?t.row.createDateStr:e.EMPTYTEXT)+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"createDateStr",label:"体检项目",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.items.length>0?e._l(t.row.items,function(s,i){return a("span",{key:i},[e._v("\n               "+e._s(s.itemName)+e._s(i!==t.row.items.length-1?"，":"")+"\n            ")])}):void 0}}],null,!0)}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"green",attrs:{type:"primary"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看详情")])]}}])})],1)],1),a("div",{staticClass:"page-box"},[a("Paginaction",{ref:"paginationEvent",staticClass:"pagination",attrs:{goPage:e.pageNum,totalNum:e.totalNum},on:{updateList:e.changePage}})],1)])])},i=[],r=a("5176"),l=a.n(r),n=a("a4bb"),o=a.n(n),c=(a("ac6a"),a("7514"),{name:"family-archives",data:function(){return{searchKey:{idNo:"",userName:"",sexType:""},sexOption:[{value:0,label:"全部"},{value:1,label:"男"},{value:2,label:"女"}],pageNum:1,pageSize:10,totalNum:0,dataList:[],selectReportList:[]}},created:function(){this.getDatalist()},methods:{selectable:function(e,t){if(this.selectReportList.length>0){var a=this.selectReportList.find(function(t){return e.recordId===t.recordId});return!!a}return!0},handleReport:function(e){this.selectReportList.length<2?this.$notify({title:"提示",message:"至少选择两个报告进行合并",type:"warning"}):this.$router.push({path:"/clinic-manage/report",query:{ids:this.selectReportList.map(function(e){return e.resultId}).join(",")}})},handleView:function(e){this.$router.push({path:"/clinic-manage/detail",query:{id:e.resultId}})},querylist:function(){this.pageNum=1,this.getDatalist()},Refreshlist:function(){var e=this;this.pageNum=1,this.pageSize=10,o()(this.searchKey).forEach(function(t){return e.searchKey[t]=""}),this.getDatalist(),this.selectReportList=[]},changePage:function(e){this.pageNum=e.pageNum,this.pageSize=e.pageSize,this.getDatalist()},handleSelectionChange:function(e,t){var a=this;e.length>4?(this.$notify({title:"提示",message:"最多选择四个报告进行合并",type:"warning"}),this.$refs.multipleTable.toggleRowSelection(t,!1)):(this.selectReportList=[],e.forEach(function(e){var t={};t.recordId=e.recordId,t.resultId=e.resultId,a.selectReportList.push(t)}))},getDatalist:function(){var e=this;this.$emit("viewLoad",!0);var t={};t.pageNum=this.pageNum,t.pageSize=this.pageSize,t=l()({},t,this.searchKey),this.$http.post("http://bj-ihealthcare.com:52081/phs/family/examResult/getDtoByPage",t).then(function(t){200===t.code?(e.dataList=t.data.list||[],e.totalNum=t.data.total,e.pageNum=t.data.pageNum,e.pageSize=t.data.pageSize):e.$message.error(t.msg),e.$emit("viewLoad",!1)}).catch(function(t){e.$emit("viewLoad",!1),e.$message.error(t)})}}}),u=c,p=(a("ce92"),a("2877")),h=Object(p["a"])(u,s,i,!1,null,null,null);t["default"]=h.exports},b4fe:function(e,t,a){},ce92:function(e,t,a){"use strict";var s=a("b4fe"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-8d94995e.d511e7ee.js.map