{"version":3,"sources":["webpack:///./src/views/system-manage/agreement-manage/add.vue?cb72","webpack:///src/views/system-manage/agreement-manage/add.vue","webpack:///./src/views/system-manage/agreement-manage/add.vue?fca6","webpack:///./src/views/system-manage/agreement-manage/add.vue","webpack:///./src/views/system-manage/agreement-manage/add.vue?f08c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","_s","ruleForm","agreementStatus","ref","model","rules","label-width","label","prop","placeholder","clearable","maxlength","value","callback","$$v","$set","trim","expression","_l","key","on","change","editorChange","click","$event","handleBackList","type","submitForm","staticRenderFns","addvue_type_script_lang_js_","name","data","agreementTypeOption","1","2","agreementStatusOption","teamIsFirstOption","templateId","agreementName","teamIsFirst","agreementType","agreementContent","required","message","trigger","created","getAgreementDetail","methods","$refs","validateField","_this","$http","get","$route","query","id","then","res","code","result","$message","error","msg","catch","formName","_this2","validate","valid","post","success","$router","push","path","agreement_manage_addvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_style_index_0_id_59544be8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_add_vue_vue_type_style_index_0_id_59544be8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/chunk-09d60bdb.d9909ea0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"agreement-box\"},[_c('div',{staticClass:\"title-box\"},[_c('Breadcrumb',[_c('span',{attrs:{\"slot\":\"custom\"},slot:\"custom\"},[_vm._v(_vm._s(_vm.ruleForm.agreementStatus===''?'新增协议':'编辑协议'))])])],1),_c('div',{staticClass:\"inner-box\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"协议标题：\",\"prop\":\"agreementName\"}},[_c('el-input',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请输入协议标题\",\"clearable\":\"\",\"maxlength\":\"50\"},model:{value:(_vm.ruleForm.agreementName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"agreementName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.agreementName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否是甲方：\",\"prop\":\"teamIsFirst\"}},[_c('el-select',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.teamIsFirst),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"teamIsFirst\", $$v)},expression:\"ruleForm.teamIsFirst\"}},_vm._l((_vm.teamIsFirstOption),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":+key}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"协议状态：\",\"prop\":\"agreementStatus\"}},[_c('el-select',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.agreementStatus),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"agreementStatus\", $$v)},expression:\"ruleForm.agreementStatus\"}},_vm._l((_vm.agreementStatusOption),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":+key}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"协议类型：\",\"prop\":\"teamIsFirst\"}},[_c('el-select',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.agreementType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"agreementType\", $$v)},expression:\"ruleForm.agreementType\"}},_vm._l((_vm.agreementTypeOption),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":+key}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"协议内容：\",\"prop\":\"agreementContent\"}},[_c('Qeditor',{ref:\"Qeditor\",on:{\"change\":_vm.editorChange},model:{value:(_vm.ruleForm.agreementContent),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"agreementContent\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.agreementContent\"}})],1)],1),_c('div',{staticClass:\"btn-box\"},[_c('el-button',{on:{\"click\":function($event){return _vm.handleBackList()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 认\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n * @Author: xiaoshui.candy \r\n * @Date: 2019-06-22 18:09:59 \r\n * @Last Modified by: xiaoshui.candy\r\n * @Last Modified time: 2019-06-27 15:35:09\r\n */\r\n<!-- 添加、修改协议 -->\r\n<template>\r\n  <div class=\"agreement-box\">\r\n    <!-- 标题 -->\r\n    <div class=\"title-box\">\r\n      <Breadcrumb>\r\n        <span slot=\"custom\">{{ruleForm.agreementStatus===''?'新增协议':'编辑协议'}}</span>\r\n      </Breadcrumb>\r\n    </div>\r\n    <div class=\"inner-box\">\r\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\r\n        <el-form-item label=\"协议标题：\" prop=\"agreementName\">\r\n          <el-input v-model.trim=\"ruleForm.agreementName\" placeholder=\"请输入协议标题\" class=\"input-box\" clearable maxlength=\"50\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否是甲方：\" prop=\"teamIsFirst\">\r\n          <el-select placeholder=\"请选择\" v-model=\"ruleForm.teamIsFirst\" class=\"input-box\">\r\n            <el-option v-for=\"(value,key) in teamIsFirstOption\" :key=\"key\" :label=\"value\" :value=\"+key\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"协议状态：\" prop=\"agreementStatus\">\r\n          <el-select placeholder=\"请选择\" v-model=\"ruleForm.agreementStatus\" class=\"input-box\">\r\n            <el-option v-for=\"(value,key) in agreementStatusOption\" :key=\"key\" :label=\"value\" :value=\"+key\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"协议类型：\" prop=\"teamIsFirst\">\r\n          <el-select placeholder=\"请选择\" v-model=\"ruleForm.agreementType\" class=\"input-box\">\r\n            <el-option v-for=\"(value,key) in agreementTypeOption\" :key=\"key\" :label=\"value\" :value=\"+key\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"协议内容：\" prop=\"agreementContent\">\r\n          <Qeditor v-model.trim=\"ruleForm.agreementContent\" ref='Qeditor' @change=\"editorChange\"></Qeditor>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"btn-box\">\r\n        <el-button @click=\"handleBackList()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 认</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'agreement-add',\r\n    data() {\r\n      return {\r\n        agreementTypeOption:{\r\n          1:\"签约协议\",\r\n          2:'解约协议'\r\n        }, //协议类型\r\n        agreementStatusOption:{\r\n          1:\"已启用\",\r\n          2:'已禁用'\r\n        }, //协议状态\r\n        teamIsFirstOption:{\r\n          1:\"是\",\r\n          2:'否'\r\n        }, //是否为甲方\r\n       ruleForm:{\r\n          templateId:'',//协议模板id\r\n          agreementName:'',//协议标题\r\n          teamIsFirst:1, //是否是甲方\r\n          agreementStatus:1,//协议状态\r\n          agreementType:1,//协议类型\r\n          agreementContent:''//协议内容\r\n       },\r\n       rules: {\r\n        agreementName: [\r\n          { required: true, message: \"协议标题不能为空\", trigger: \"blur\" },\r\n        ],\r\n        agreementContent:[\r\n          {required: true, message: '请填写协议内容', trigger: 'change' }\r\n        ]\r\n       }\r\n      };\r\n    },\r\n    created() {\r\n      this.getAgreementDetail() //获取协议详情\r\n    },\r\n    methods: {\r\n      //富文本改变\r\n      editorChange(){\r\n        this.$refs['ruleForm'].validateField(\"agreementContent\");\r\n      },\r\n      //获取协议详情\r\n      getAgreementDetail(){\r\n        this.$http.get(process.env.VUE_APP_API+'/family/agreementTemplate/getByTemplateId',{\r\n          templateId:this.$route.query.id\r\n        }).then(res => {\r\n          if(res.code===200){\r\n            let result = res.data\r\n            this.ruleForm.agreementName = result.agreementName||''\r\n            this.ruleForm.teamIsFirst = result.teamIsFirst||1\r\n            this.ruleForm.agreementStatus = result.agreementStatus||1\r\n            this.ruleForm.agreementType = result.agreementType||1\r\n            this.ruleForm.agreementType = result.agreementType||''\r\n            this.ruleForm.templateId = result.templateId\r\n          }else{\r\n            this.$message.error(res.msg);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$message.error(error);\r\n        });\r\n      },\r\n      //保存设置\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n             this.$http.post(process.env.VUE_APP_API+'/family/agreementTemplate/update',this.ruleForm).then(res => {\r\n              if(res.code===200){\r\n                this.$message.success('修改成功');\r\n                this.handleBackList() //返回列表\r\n              }else{\r\n                this.$message.error(res.msg);\r\n              }\r\n            })\r\n            .catch(error => {\r\n              this.$message.error(error);\r\n            });\r\n          }\r\n        });\r\n      },\r\n      //返回列表\r\n      handleBackList() {\r\n        this.$router.push({\r\n          path: '/system-manage/agreement-manage/list'\r\n        })\r\n      }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.agreement-box{\r\n  .inner-box{\r\n    padding:30px;\r\n    width:80%;\r\n    margin:0px auto;\r\n    .input-box{\r\n      width:100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=59544be8&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=59544be8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59544be8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=59544be8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=59544be8&lang=less&scoped=true&\""],"sourceRoot":""}