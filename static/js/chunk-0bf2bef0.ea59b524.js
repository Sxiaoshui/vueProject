(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bf2bef0"],{"283f":function(e,a,t){"use strict";var l=t("e9cc"),r=t.n(l);r.a},5119:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"maintain-detail-box flex-column"},[t("div",{staticClass:"title-box"},[t("Breadcrumb",{attrs:{isCustom:!1}})],1),t("div",{staticClass:"inner-box flex-overflow"},[t("el-form",{ref:"ruleForm",staticClass:"maintainFrom",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"160px"}},[t("div",{staticClass:"item-box"},[t("h3",{staticClass:"title"},[e._v("机构参数维护")]),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"辖区内常驻人口：",prop:"areaLivePeople"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.areaLivePeople,callback:function(a){e.$set(e.ruleForm,"areaLivePeople",e._n(a))},expression:"ruleForm.areaLivePeople"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"非辖区内常驻人口：",prop:"inareaLivePeople"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.inareaLivePeople,callback:function(a){e.$set(e.ruleForm,"inareaLivePeople",e._n(a))},expression:"ruleForm.inareaLivePeople"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"总居民数：",prop:"totalLivePeople"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.totalLivePeople,callback:function(a){e.$set(e.ruleForm,"totalLivePeople",e._n(a))},expression:"ruleForm.totalLivePeople"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"目标签约人数：",prop:"totalTarget"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.totalTarget,callback:function(a){e.$set(e.ruleForm,"totalTarget",e._n(a))},expression:"ruleForm.totalTarget"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"目标签约率：",prop:"targetSignRate"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.targetSignRate,callback:function(a){e.$set(e.ruleForm,"targetSignRate",e._n(a))},expression:"ruleForm.targetSignRate"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"限制签约人数：",prop:"limitTotalTaget"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.limitTotalTaget,callback:function(a){e.$set(e.ruleForm,"limitTotalTaget",e._n(a))},expression:"ruleForm.limitTotalTaget"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"目标履约率：",prop:"targetAppointRate"}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:e.ruleForm.targetAppointRate,callback:function(a){e.$set(e.ruleForm,"targetAppointRate",e._n(a))},expression:"ruleForm.targetAppointRate"}})],1)],1)],1)],1),t("div",{staticClass:"item-box"},[t("h3",{staticClass:"title"},[e._v("服务包限制签约上限")]),t("el-row",e._l(e.ruleForm.packageVins,function(a,l){return t("el-col",{key:a.packageId,attrs:{span:12}},[t("el-form-item",{staticClass:"flex",attrs:{label:a.packageName+"："}},[t("el-radio-group",{model:{value:a.limitSignStatus,callback:function(t){e.$set(a,"limitSignStatus",t)},expression:"item.limitSignStatus"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),t("el-radio",{attrs:{label:2}},[e._v("否")])],1),1==a.limitSignStatus?t("el-form-item",{attrs:{prop:"packageVins."+l+".limitSignPeople",rules:e.rules.limitSignPeople}},[t("el-input",{staticClass:"input-box",attrs:{placeholder:"请输入服务包限制签约上限",clearable:"",maxlength:e.NUMBERLEN},model:{value:a.limitSignPeople,callback:function(t){e.$set(a,"limitSignPeople",e._n(t))},expression:"item.limitSignPeople"}})],1):e._e()],1)],1)}),1)],1),t("div",{staticClass:"item-box"},[t("h3",{staticClass:"title"},[e._v("服务包目标签约人数设置")]),t("el-row",e._l(e.ruleForm.packageVins,function(a,l){return t("el-col",{key:a.packageId,class:l%2===0?"ts-col":"",attrs:{span:8}},[t("el-form-item",{attrs:{label:a.packageName+"：",prop:"packageVins."+l+".packageTarget",rules:e.rules.packageTarget}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:a.packageTarget,callback:function(t){e.$set(a,"packageTarget",e._n(t))},expression:"item.packageTarget"}})],1)],1)}),1)],1),t("div",{staticClass:"item-box"},[t("h3",{staticClass:"title"},[e._v("人群目标签约人数设置")]),t("el-row",e._l(e.ruleForm.labelVins,function(a,l){return t("el-col",{key:a.labelId,class:l%2===0?"ts-col":"",attrs:{span:8}},[t("el-form-item",{attrs:{label:a.labelName+"：",prop:"labelVins."+l+".labelTarget",rules:e.rules.labelTarget}},[t("el-input",{attrs:{placeholder:"请输入",clearable:"",maxlength:e.NUMBERLEN},model:{value:a.labelTarget,callback:function(t){e.$set(a,"labelTarget",e._n(t))},expression:"item.labelTarget"}})],1)],1)}),1)],1),t("div",{staticClass:"btn-box"},[t("el-button",{on:{click:function(a){return e.handleBackList()}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.submitForm("ruleForm")}}},[e._v("确 认")])],1)])],1)])},r=[],i=t("5176"),o=t.n(i),n=(t("ac6a"),t("f499")),s=t.n(n),c=t("af75"),p={name:"organ-maintain",data:function(){return{ruleForm:{keyId:"",keyName:"",areaLivePeople:"",inareaLivePeople:"",totalLivePeople:"",totalTarget:"",targetSignRate:"",limitTotalTaget:"",targetAppointRate:"",packageVins:[],labelVins:[]},rules:{areaLivePeople:[{validator:c["a"].validateInteger,trigger:"change"}],inareaLivePeople:[{validator:c["a"].validateInteger,trigger:"change"}],totalLivePeople:[{validator:c["a"].validateInteger,trigger:"change"}],totalTarget:[{validator:c["a"].validateInteger,trigger:"change"}],targetSignRate:[{validator:c["a"].validatePercent,trigger:"change"}],limitTotalTaget:[{validator:c["a"].validateInteger,trigger:"change"}],targetAppointRate:[{validator:c["a"].validatePercent,trigger:"change"}],packageTarget:[{validator:c["a"].validateInteger,trigger:"change"}],limitSignPeople:[{required:!0,message:"请输入服务包限制签约上限",trigger:"change"},{validator:c["a"].validateInteger,trigger:"change"}],labelTarget:[{validator:c["a"].validateInteger,trigger:"change"}]}}},created:function(){this.getMaintainDetail()},methods:{getMaintainDetail:function(){var e=this;this.$http.get("http://bj-ihealthcare.com:52081/phs/family/vin/getVinDtoByKeyId",{keyId:this.$route.query.id,keyType:1}).then(function(a){if(200===a.code){var t=a.data;for(var l in e.ruleForm)e.ruleForm[l]=t[l]}else e.$message.error(a.msg)}).catch(function(a){e.$message.error(a)})},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(e){var t={},l=JSON.parse(s()(a.ruleForm));l.packageVins.forEach(function(e){e.limitSignPeople=1===e.limitSignStatus?e.limitSignPeople:""}),t.packageVinsJson=s()(l.packageVins),t.labelVinsJson=s()(l.labelVins),t.keyType=1,delete a.ruleForm.packageVins,delete a.ruleForm.labelVins,t=o()({},a.ruleForm,t),a.$http.post("http://bj-ihealthcare.com:52081/phs/family/vin/updateVinDto",t).then(function(e){200===e.code?(a.$message.success("修改成功"),a.handleBackList()):a.$message.error(e.msg)}).catch(function(e){a.$message.error(e)})}})},handleBackList:function(){this.$router.push({path:"/basicData-manage/organs-manage/list"})}}},g=p,m=(t("283f"),t("2877")),u=Object(m["a"])(g,l,r,!1,null,null,null);a["default"]=u.exports},5176:function(e,a,t){e.exports=t("51b6")},e9cc:function(e,a,t){}}]);
//# sourceMappingURL=chunk-0bf2bef0.ea59b524.js.map