(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09d60bdb"],{"5e51":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"agreement-box"},[r("div",{staticClass:"title-box"},[r("Breadcrumb",[r("span",{attrs:{slot:"custom"},slot:"custom"},[e._v(e._s(""===e.ruleForm.agreementStatus?"新增协议":"编辑协议"))])])],1),r("div",{staticClass:"inner-box"},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"协议标题：",prop:"agreementName"}},[r("el-input",{staticClass:"input-box",attrs:{placeholder:"请输入协议标题",clearable:"",maxlength:"50"},model:{value:e.ruleForm.agreementName,callback:function(t){e.$set(e.ruleForm,"agreementName","string"===typeof t?t.trim():t)},expression:"ruleForm.agreementName"}})],1),r("el-form-item",{attrs:{label:"是否是甲方：",prop:"teamIsFirst"}},[r("el-select",{staticClass:"input-box",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.teamIsFirst,callback:function(t){e.$set(e.ruleForm,"teamIsFirst",t)},expression:"ruleForm.teamIsFirst"}},e._l(e.teamIsFirstOption,function(e,t){return r("el-option",{key:t,attrs:{label:e,value:+t}})}),1)],1),r("el-form-item",{attrs:{label:"协议状态：",prop:"agreementStatus"}},[r("el-select",{staticClass:"input-box",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.agreementStatus,callback:function(t){e.$set(e.ruleForm,"agreementStatus",t)},expression:"ruleForm.agreementStatus"}},e._l(e.agreementStatusOption,function(e,t){return r("el-option",{key:t,attrs:{label:e,value:+t}})}),1)],1),r("el-form-item",{attrs:{label:"协议类型：",prop:"teamIsFirst"}},[r("el-select",{staticClass:"input-box",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.agreementType,callback:function(t){e.$set(e.ruleForm,"agreementType",t)},expression:"ruleForm.agreementType"}},e._l(e.agreementTypeOption,function(e,t){return r("el-option",{key:t,attrs:{label:e,value:+t}})}),1)],1),r("el-form-item",{attrs:{label:"协议内容：",prop:"agreementContent"}},[r("Qeditor",{ref:"Qeditor",on:{change:e.editorChange},model:{value:e.ruleForm.agreementContent,callback:function(t){e.$set(e.ruleForm,"agreementContent","string"===typeof t?t.trim():t)},expression:"ruleForm.agreementContent"}})],1)],1),r("div",{staticClass:"btn-box"},[r("el-button",{on:{click:function(t){return e.handleBackList()}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 认")])],1)],1)])},n=[],s={name:"agreement-add",data:function(){return{agreementTypeOption:{1:"签约协议",2:"解约协议"},agreementStatusOption:{1:"已启用",2:"已禁用"},teamIsFirstOption:{1:"是",2:"否"},ruleForm:{templateId:"",agreementName:"",teamIsFirst:1,agreementStatus:1,agreementType:1,agreementContent:""},rules:{agreementName:[{required:!0,message:"协议标题不能为空",trigger:"blur"}],agreementContent:[{required:!0,message:"请填写协议内容",trigger:"change"}]}}},created:function(){this.getAgreementDetail()},methods:{editorChange:function(){this.$refs["ruleForm"].validateField("agreementContent")},getAgreementDetail:function(){var e=this;this.$http.get("http://bj-ihealthcare.com:52081/phs/family/agreementTemplate/getByTemplateId",{templateId:this.$route.query.id}).then(function(t){if(200===t.code){var r=t.data;e.ruleForm.agreementName=r.agreementName||"",e.ruleForm.teamIsFirst=r.teamIsFirst||1,e.ruleForm.agreementStatus=r.agreementStatus||1,e.ruleForm.agreementType=r.agreementType||1,e.ruleForm.agreementType=r.agreementType||"",e.ruleForm.templateId=r.templateId}else e.$message.error(t.msg)}).catch(function(t){e.$message.error(t)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$http.post("http://bj-ihealthcare.com:52081/phs/family/agreementTemplate/update",t.ruleForm).then(function(e){200===e.code?(t.$message.success("修改成功"),t.handleBackList()):t.$message.error(e.msg)}).catch(function(e){t.$message.error(e)})})},handleBackList:function(){this.$router.push({path:"/system-manage/agreement-manage/list"})}}},l=s,m=(r("dbd9"),r("2877")),o=Object(m["a"])(l,a,n,!1,null,"59544be8",null);t["default"]=o.exports},"69c1":function(e,t,r){},dbd9:function(e,t,r){"use strict";var a=r("69c1"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-09d60bdb.d9909ea0.js.map