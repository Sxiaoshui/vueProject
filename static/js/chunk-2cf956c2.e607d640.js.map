{"version":3,"sources":["webpack:///./src/views/basicData-manage/organs-manage/list.vue?17bc","webpack:///./src/views/basicData-manage/organs-manage/addOrgan.vue?fe22","webpack:///src/views/basicData-manage/organs-manage/addOrgan.vue","webpack:///./src/views/basicData-manage/organs-manage/addOrgan.vue?af72","webpack:///./src/views/basicData-manage/organs-manage/addOrgan.vue","webpack:///src/views/basicData-manage/organs-manage/list.vue","webpack:///./src/views/basicData-manage/organs-manage/list.vue?4307","webpack:///./src/views/basicData-manage/organs-manage/list.vue","webpack:///./src/views/basicData-manage/organs-manage/addOrgan.vue?f0ef"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLevel","on","click","$event","handleOrgans","icon-class","_v","placeholder","clearable","model","value","searchKey","callback","$$v","$set","trim","expression","type","plain","icon","querylist","Refreshlist","data","dataList","tooltip-effect","stripe","height","label","align","width","scopedSlots","_u","key","fn","scope","_s","$index","pageNum","pageSize","prop","row","organizationId","EMPTYTEXT","name","parentOrganizationName","orgType","orgtypeOption","orgStatus","sysGuid","handleView","ref","goPage","totalNum","updateList","changePage","id","refresh","getDatalist","organsDialog","staticRenderFns","addOrganvue_type_template_id_47379a12_render","title","visible","show","center","close-on-click-modal","update:visible","close","resetForm","ruleForm","rules","label-width","_e","maxlength","villageName","provinceName","cityName","countyName","townName","address","addressObj","getAddress","getReportPlace","multiple","options","organOption","select","selectParentOrgan","input","clearParentOrgan","_l","slot","submitForm","addOrganvue_type_template_id_47379a12_staticRenderFns","addOrganvue_type_script_lang_js_","components","Treeselect","vue_treeselect_default","a","props","Boolean","String","Number","event","watch","n","_this","getParentOrganList","getOrganDetail","initForm","$nextTick","$refs","validateField","clearValidate","_this2","validateAddress","rule","villageId","Error","provinceId","cityId","countyId","townId","1","2","3","4","5","6","7","parentOrganizationId","addressDetail","contactName","contactPhone","required","message","trigger","validator","formRule","validateMobile","methods","_this3","$http","get","then","res","code","result","_key","$message","error","msg","catch","_this4","post","initArrays","JSON","parse","stringify_default","replace","obj","assign_default","formName","_this5","validate","valid","originData","params","editOrgan","addOrgan","_this6","success","$emit","_this7","_this8","keys_default","forEach","k","organs_manage_addOrganvue_type_script_lang_js_","component","Object","componentNormalizer","listvue_type_script_lang_js_","organizationIdLike","nameLike","parentOrganizationNameLike","created","$router","push","path","query","list","total","organs_manage_listvue_type_script_lang_js_","list_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addOrgan_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addOrgan_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/chunk-2cf956c2.e607d640.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-common-box\"},[_c('div',{staticClass:\"title-box\"},[_c('Breadcrumb',{attrs:{\"isLevel\":2}}),_c('div',{staticClass:\"rightbox\"},[_c('div',{staticClass:\"item\",on:{\"click\":function($event){return _vm.handleOrgans()}}},[_c('cc-svg-icon',{attrs:{\"icon-class\":\"add\"}}),_c('span',[_vm._v(\"新增\")])],1)])],1),_c('div',{staticClass:\"card-box\"},[_c('div',{staticClass:\"search-bar\"},[_c('div',{staticClass:\"search-left\"},[_c('div',{staticClass:\"search-item\"},[_c('span',{staticClass:\"search-label\"},[_vm._v(\"机构编码\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入机构编码\",\"clearable\":\"\"},model:{value:(_vm.searchKey.organizationIdLike),callback:function ($$v) {_vm.$set(_vm.searchKey, \"organizationIdLike\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchKey.organizationIdLike\"}})],1),_c('div',{staticClass:\"search-item\"},[_c('span',{staticClass:\"search-label\"},[_vm._v(\"机构名称\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入机构名称\",\"clearable\":\"\"},model:{value:(_vm.searchKey.nameLike),callback:function ($$v) {_vm.$set(_vm.searchKey, \"nameLike\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchKey.nameLike\"}})],1),_c('div',{staticClass:\"search-item\"},[_c('span',{staticClass:\"search-label\"},[_vm._v(\"上级机构名称\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入上级机构名称\",\"clearable\":\"\"},model:{value:(_vm.searchKey.parentOrganizationNameLike),callback:function ($$v) {_vm.$set(_vm.searchKey, \"parentOrganizationNameLike\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchKey.parentOrganizationNameLike\"}})],1)]),_c('div',{staticClass:\"search-right\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.querylist()}}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.Refreshlist()}}},[_vm._v(\"清空\")])],1)]),_c('div',{staticClass:\"table-box\"},[_c('el-table',{attrs:{\"data\":_vm.dataList,\"tooltip-effect\":\"dark\",\"stripe\":\"\",\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"align\":\"center\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.$index+(_vm.pageNum - 1) * _vm.pageSize + 1)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"organizationId\",\"label\":\"机构编码\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.organizationId?scope.row.organizationId:_vm.EMPTYTEXT)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"机构名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.name?scope.row.name:_vm.EMPTYTEXT)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"parentOrganizationName\",\"label\":\"上级机构名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.parentOrganizationName?scope.row.parentOrganizationName:_vm.EMPTYTEXT)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"orgType\",\"label\":\"机构类型\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.orgType?_vm.orgtypeOption[scope.row.orgType]:_vm.EMPTYTEXT)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"orgStatus\",\"label\":\"状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.orgStatus===1?'启用':scope.row.orgStatus===2?'禁用':_vm.EMPTYTEXT)+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('cc-svg-icon',{attrs:{\"icon-class\":\"edit\"},on:{\"click\":function($event){return _vm.handleOrgans(scope.row.sysGuid)}}}),_c('cc-svg-icon',{attrs:{\"icon-class\":\"maintain\"},on:{\"click\":function($event){return _vm.handleView(scope.row)}}})]}}])})],1)],1),_c('div',{staticClass:\"page-box\"},[_c('Paginaction',{ref:\"paginationEvent\",staticClass:\"pagination\",attrs:{\"goPage\":_vm.pageNum,\"totalNum\":_vm.totalNum},on:{\"updateList\":_vm.changePage}})],1)]),_c('addOrgan',{attrs:{\"id\":_vm.sysGuid},on:{\"refresh\":_vm.getDatalist},model:{value:(_vm.organsDialog),callback:function ($$v) {_vm.organsDialog=$$v},expression:\"organsDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"organForm-box\",attrs:{\"title\":_vm.id?'修改机构':'新增机构',\"visible\":_vm.show,\"center\":\"\",\"width\":\"550px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.show=$event},\"close\":function($event){return _vm.resetForm('ruleForm')}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[(_vm.id)?_c('el-form-item',{attrs:{\"label\":\"机构编码：\"}},[_c('p',[_vm._v(_vm._s(_vm.ruleForm.organizationId))])]):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"机构名称：\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请输入机构名称\",\"clearable\":\"\",\"maxlength\":\"20\"},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属区域：\",\"prop\":!_vm.id?'provinceId':''}},[(!_vm.id)?[_c('Address',{ref:\"addressEvent\",attrs:{\"address\":_vm.addressObj},on:{\"getAddress\":_vm.getReportPlace}})]:[_c('p',[_vm._v(_vm._s(_vm.ruleForm.villageName?_vm.ruleForm.provinceName+_vm.ruleForm.cityName+_vm.ruleForm.countyName+_vm.ruleForm.townName+_vm.ruleForm.villageName:_vm.EMPTYTEXT))])]],2),_c('el-form-item',{attrs:{\"label\":\"上级机构：\",\"prop\":!_vm.id?'parentOrganizationId':''}},[(!_vm.id)?[_c('treeselect',{staticClass:\"input-box\",attrs:{\"multiple\":false,\"options\":_vm.organOption,\"placeholder\":\"请选择上级机构\"},on:{\"select\":_vm.selectParentOrgan,\"input\":_vm.clearParentOrgan},model:{value:(_vm.ruleForm.parentOrganizationId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"parentOrganizationId\", $$v)},expression:\"ruleForm.parentOrganizationId\"}})]:[_c('p',[_vm._v(_vm._s(_vm.ruleForm.parentOrganizationName||_vm.EMPTYTEXT))])]],2),_c('el-form-item',{attrs:{\"label\":\"机构类别：\",\"prop\":!_vm.id?'orgType':''}},[(!_vm.id)?[_c('el-select',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请选择机构类别\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.orgType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"orgType\", $$v)},expression:\"ruleForm.orgType\"}},_vm._l((_vm.orgtypeOption),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":+key}})}),1)]:[_c('p',[_vm._v(_vm._s(_vm.ruleForm.orgType?_vm.orgtypeOption[_vm.ruleForm.orgType]:_vm.EMPTYTEXT))])]],2),_c('el-form-item',{attrs:{\"label\":\"机构地址：\",\"prop\":\"addressDetail\"}},[_c('el-input',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请输入机构地址\",\"clearable\":\"\",\"maxlength\":\"50\"},model:{value:(_vm.ruleForm.addressDetail),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"addressDetail\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.addressDetail\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系人：\",\"prop\":\"contactName\"}},[_c('el-input',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请输入联系人\",\"clearable\":\"\",\"maxlength\":\"10\"},model:{value:(_vm.ruleForm.contactName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"contactName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.contactName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系电话：\",\"prop\":\"contactPhone\"}},[_c('el-input',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请输入联系电话\",\"maxlength\":\"11\",\"clearable\":\"\"},model:{value:(_vm.ruleForm.contactPhone),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"contactPhone\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.contactPhone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态：\",\"prop\":\"orgStatus\"}},[_c('el-select',{staticClass:\"input-box\",attrs:{\"placeholder\":\"请选择状态\"},model:{value:(_vm.ruleForm.orgStatus),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"orgStatus\", $$v)},expression:\"ruleForm.orgStatus\"}},[_c('el-option',{attrs:{\"label\":\"已启用\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"已禁用\",\"value\":2}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"确 认\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n * @Author: xiaoshui.candy \r\n * @Date: 2019-06-17 10:50:50 \r\n * @Last Modified by: xiaoshui.candy\r\n * @Last Modified time: 2019-07-23 09:47:28\r\n */\r\n<!--  新增、编辑组织机构 -->\r\n<template>\r\n  <el-dialog :title=\"id?'修改机构':'新增机构'\" :visible.sync=\"show\" center width=\"550px\" @close=\"resetForm('ruleForm')\" class=\"organForm-box\" :close-on-click-modal=\"false\">\r\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\r\n      <el-form-item label=\"机构编码：\" v-if=\"id\">\r\n         <p>{{ruleForm.organizationId}}</p>\r\n      </el-form-item>\r\n      <el-form-item label=\"机构名称：\" prop=\"name\">\r\n        <el-input v-model.trim=\"ruleForm.name\" placeholder=\"请输入机构名称\" class=\"input-box\" clearable maxlength=\"20\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"所属区域：\" :prop=\"!id?'provinceId':''\">\r\n        <template v-if=\"!id\">\r\n          <Address :address='addressObj' @getAddress='getReportPlace' ref=\"addressEvent\"></Address>  \r\n        </template>\r\n        <template v-else>\r\n          <p>{{ruleForm.villageName?ruleForm.provinceName+ruleForm.cityName+ruleForm.countyName+ruleForm.townName+ruleForm.villageName:EMPTYTEXT}}</p>\r\n        </template>\r\n      </el-form-item>\r\n      <el-form-item label=\"上级机构：\" :prop=\"!id?'parentOrganizationId':''\">\r\n        <template v-if=\"!id\">\r\n          <treeselect :multiple=\"false\" :options=\"organOption\"  placeholder=\"请选择上级机构\" v-model=\"ruleForm.parentOrganizationId\" class=\"input-box\" @select=\"selectParentOrgan\"  @input=\"clearParentOrgan\"/>\r\n        </template>\r\n        <template v-else>\r\n          <p>{{ruleForm.parentOrganizationName||EMPTYTEXT}}</p>\r\n        </template>\r\n      </el-form-item>\r\n      <el-form-item label=\"机构类别：\" :prop=\"!id?'orgType':''\">\r\n        <template v-if=\"!id\">\r\n          <el-select v-model=\"ruleForm.orgType\" placeholder=\"请选择机构类别\" class=\"input-box\" clearable>\r\n            <el-option v-for=\"(value,key) in orgtypeOption\" :key=\"key\" :label=\"value\" :value=\"+key\">\r\n            </el-option>\r\n          </el-select>\r\n        </template>\r\n        <template v-else>\r\n          <p>{{ruleForm.orgType?orgtypeOption[ruleForm.orgType]:EMPTYTEXT}}</p>\r\n        </template>\r\n      </el-form-item>\r\n      <el-form-item label=\"机构地址：\" prop=\"addressDetail\">\r\n        <el-input v-model.trim=\"ruleForm.addressDetail\" placeholder=\"请输入机构地址\" class=\"input-box\" clearable maxlength=\"50\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"联系人：\" prop=\"contactName\">\r\n        <el-input v-model.trim=\"ruleForm.contactName\" placeholder=\"请输入联系人\" class=\"input-box\" clearable maxlength=\"10\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"联系电话：\" prop=\"contactPhone\">\r\n        <el-input v-model.trim=\"ruleForm.contactPhone\" placeholder=\"请输入联系电话\" class=\"input-box\" maxlength=\"11\" clearable></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"状态：\" prop=\"orgStatus\">\r\n        <el-select v-model=\"ruleForm.orgStatus\" placeholder=\"请选择状态\" class=\"input-box\">\r\n          <el-option label=\"已启用\" :value=\"1\"></el-option>\r\n          <el-option label=\"已禁用\" :value=\"2\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"resetForm('ruleForm')\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">确 认</el-button>\r\n    </div>\r\n </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport formRule from \"../../../util/formRule\" //表单验证\r\nimport Treeselect from '@riophae/vue-treeselect' //树型select\r\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\nexport default {\r\n  name: 'addOrgan',\r\n  components:{\r\n    Treeselect\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Boolean\r\n    },\r\n    id:{\r\n      type:[String,Number],\r\n      value:''\r\n    }\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change'\r\n  },\r\n  watch: {\r\n    value (n) {\r\n      this.show = this.value\r\n      if(this.show===true){\r\n        this.getParentOrganList();//获取上级机构下拉\r\n        if(this.id){\r\n          this.getOrganDetail(); //获取机构详情\r\n        }else{\r\n          this.initForm();\r\n          this.$nextTick(()=>{\r\n            this.$refs[\"ruleForm\"].validateField('provinceId')\r\n          })\r\n        }\r\n        this.$nextTick(()=>{\r\n          this.$refs['ruleForm'].clearValidate();\r\n        })\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    //验证地址\r\n    const validateAddress  = (rule, value, callback) => {\r\n      if(this.ruleForm.villageId===''){\r\n        callback(new Error('请选择完整地区'));\r\n      }else{\r\n        callback()\r\n      }\r\n    };\r\n    return {\r\n      addressObj: {\r\n        provinceId: '', //省id\r\n        provinceName:'',//省名称\r\n        cityId: '', //市id\r\n        cityName:'',//市名称\r\n        countyId: '', //区id\r\n        countyName:'', //区名称\r\n        townId:'', //乡镇id\r\n        townName:'',//乡镇名称\r\n        villageId:'', //村委id\r\n        villageName:'',//村委名称\r\n      },\r\n       show:this.value,\r\n       organOption:[],//上级机构下拉\r\n       orgtypeOption:{\r\n        1:\"省卫计委\",\r\n        2:\"地市卫计委\",\r\n        3:\"县级卫计委\",\r\n        4:\"乡镇卫生院\",\r\n        5:\"村级卫生室\",\r\n        6:\"省外医疗机构\",\r\n        7:\"其他医疗机构\"\r\n      }, //机构类型\r\n       ruleForm:{\r\n          organizationId:'',//机构编码\r\n          name:'', //机构名称\r\n          provinceId: '', //省id\r\n          provinceName:'',//省名称\r\n          cityId: '', //市id\r\n          cityName:'',//市名称\r\n          countyId: '', //区id\r\n          countyName:'', //区名称\r\n          townId:'', //乡镇id\r\n          townName:'',//乡镇名称\r\n          villageId:'', //村委id\r\n          villageName:'',//村委名称\r\n          parentOrganizationId:null,//上级机构id\r\n          parentOrganizationName:'',//上级机构名称\r\n          orgType:'',//机构类别\r\n          addressDetail:'',//机构地址\r\n          contactName:'',//联系人\r\n          contactPhone:'',//联系人电话\r\n          orgStatus:1,//状态\r\n       },\r\n       rules: {\r\n        name: [\r\n          { required: true, message: '请输入机构名称', trigger: 'change' }\r\n        ],\r\n        provinceId: [\r\n          { required: true, message: '请选择地址', trigger: 'change' },\r\n          { validator:validateAddress, trigger: 'change' }\r\n        ],\r\n        parentOrganizationId: [\r\n          { required: true, message: '请选择上级机构', trigger: 'change' }\r\n        ],\r\n        orgType: [\r\n          { required: true, message: '请选择机构类别', trigger: 'change' }\r\n        ],\r\n        contactPhone: [\r\n          { validator: formRule.validateMobile, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    //获取机构详情\r\n    getOrganDetail(){\r\n      this.$http.get(process.env.VUE_APP_API+'/service/organization/getById?sysGuid='+this.id).then(res => {\r\n        if(res.code===200){\r\n          let result = res.data\r\n          for(let key in this.ruleForm){\r\n            this.ruleForm[key] = result[key]\r\n            if(key==='parentOrganizationId'){\r\n              this.ruleForm[key] = result[key]!=='0'?result[key]:null\r\n            }\r\n          }\r\n          for(let key in this.addressObj){\r\n            this.addressObj[key] = this.ruleForm[key]\r\n          }\r\n        }else{\r\n          this.$message.error(res.msg);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        this.$message.error(error);\r\n      });\r\n    },\r\n    //获取上级机构列表\r\n    getParentOrganList(){\r\n      this.$http.post(process.env.VUE_APP_API+'/service/organization/getOrganization').then(res => {\r\n        if(res.code===200){\r\n        let initArrays = JSON.parse(JSON.stringify(res.data).replace(/organizationId/g, 'id').replace(/name/g, 'label').replace(/childrens/g, 'children'))\r\n          this.organOption = initArrays\r\n        }else{\r\n          this.organOption = []\r\n          this.$message.error(res.msg);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        this.$message.error(error);\r\n      });\r\n    },\r\n    //上级机构选择\r\n    selectParentOrgan(result){\r\n      this.ruleForm.parentOrganizationId = result.id\r\n      this.ruleForm.parentOrganizationName = result.label\r\n    },\r\n    //触发上级机构验证\r\n    clearParentOrgan(){\r\n      this.$refs.ruleForm.validateField('parentOrganizationId')\r\n    },\r\n    //获取所属地区\r\n    getReportPlace(obj){\r\n      let result = JSON.parse(JSON.stringify(this.addressObj))\r\n      this.ruleForm = Object.assign(this.ruleForm,result,obj)\r\n      this.$refs.ruleForm.validateField('provinceId')\r\n    },\r\n    //保存设置\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          let originData = JSON.parse(JSON.stringify(this.ruleForm))\r\n          let params = {}\r\n          params = Object.assign({},originData)\r\n          if(this.id){\r\n            params.sysGuid = this.id\r\n            this.editOrgan(params)\r\n          }else{\r\n            delete params.sysGuid\r\n            this.addOrgan(params)\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //添加机构\r\n    addOrgan(params){\r\n      this.$http.post(process.env.VUE_APP_API+'/service/organization/add',params).then(res => {\r\n        if(res.code===200){\r\n          this.$message.success('添加成功');\r\n          this.show = false\r\n          this.$emit('change', false)\r\n          this.$emit('refresh') //刷新列表\r\n        }else{\r\n          this.$message.error(res.msg);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        this.$message.error(error);\r\n      });\r\n    },\r\n    //编辑机构\r\n    editOrgan(params){\r\n      this.$http.post(process.env.VUE_APP_API+'/service/organization/update',params).then(res => {\r\n        if(res.code===200){\r\n          this.$message.success('修改成功');\r\n          this.show = false\r\n          this.$emit('change', false)\r\n          this.$emit('refresh') //刷新列表\r\n        }else{\r\n          this.$message.error(res.msg);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        this.$message.error(error);\r\n      });\r\n    },\r\n    //初始化表单\r\n    initForm(){\r\n      Object.keys(this.ruleForm).forEach(k => this.ruleForm[k] = '')\r\n      Object.keys(this.addressObj).forEach(k => this.addressObj[k] = '')\r\n      this.ruleForm.parentOrganizationId = null\r\n      this.ruleForm.orgStatus = 1\r\n    },\r\n    //取消设置\r\n    resetForm(formName) {\r\n      this.show = false\r\n      this.$emit('change', false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less'>\r\n  /* 机构弹窗 */\r\n  .organForm-box{\r\n    .el-dialog--center .el-dialog__body{\r\n      padding:30px 30px 30px 48px;\r\n    }\r\n    .area{\r\n      .selectbox{\r\n        .el-select{\r\n          width:47%;\r\n        }\r\n      }\r\n    }\r\n    .input-box{\r\n      width:290px;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addOrgan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addOrgan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addOrgan.vue?vue&type=template&id=47379a12&\"\nimport script from \"./addOrgan.vue?vue&type=script&lang=js&\"\nexport * from \"./addOrgan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addOrgan.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: xiaoshui.candy \r\n * @Date: 2019-06-15 17:41:39 \r\n * @Last Modified by: xiaoshui.candy\r\n * @Last Modified time: 2019-06-20 10:17:46\r\n */\r\n<!-- 机构管理 -->\r\n<template>\r\n  <div class=\"list-common-box\">\r\n    <div class=\"title-box\">\r\n      <Breadcrumb :isLevel='2'></Breadcrumb>\r\n      <div class=\"rightbox\">\r\n        <div class=\"item\" @click=\"handleOrgans()\">\r\n           <cc-svg-icon icon-class=\"add\"></cc-svg-icon>\r\n           <span>新增</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 主要数据 -->\r\n    <div class=\"card-box\">\r\n      <!-- 搜索 -->\r\n      <div class=\"search-bar\">\r\n        <!-- 左 -->\r\n        <div class=\"search-left\">\r\n          <div class=\"search-item\">\r\n            <span class=\"search-label\">机构编码</span>\r\n            <el-input v-model.trim=\"searchKey.organizationIdLike\" placeholder=\"请输入机构编码\" clearable></el-input>\r\n          </div>\r\n          <div class=\"search-item\">\r\n            <span class=\"search-label\">机构名称</span>\r\n            <el-input v-model.trim=\"searchKey.nameLike\" placeholder=\"请输入机构名称\" clearable></el-input>\r\n          </div>\r\n          <div class=\"search-item\">\r\n            <span class=\"search-label\">上级机构名称</span>\r\n            <el-input v-model.trim=\"searchKey.parentOrganizationNameLike\" placeholder=\"请输入上级机构名称\" clearable></el-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"search-right\">\r\n          <el-button type=\"primary\" plain icon=\"el-icon-search\" @click=\"querylist()\">查询</el-button>\r\n          <el-button type=\"primary\" plain icon=\"el-icon-delete\" @click=\"Refreshlist()\">清空</el-button>\r\n        </div>\r\n      </div>\r\n      <!-- 表格 -->\r\n      <div class=\"table-box\">\r\n        <el-table :data=\"dataList\" tooltip-effect=\"dark\" stripe height=\"100%\"> \r\n          <el-table-column label=\"序号\" align=\"center\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.$index+(pageNum - 1) * pageSize + 1}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"organizationId\" label=\"机构编码\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.organizationId?scope.row.organizationId:EMPTYTEXT}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"name\" label=\"机构名称\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.name?scope.row.name:EMPTYTEXT}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"parentOrganizationName\" label=\"上级机构名称\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.parentOrganizationName?scope.row.parentOrganizationName:EMPTYTEXT}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"orgType\" label=\"机构类型\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.orgType?orgtypeOption[scope.row.orgType]:EMPTYTEXT}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"orgStatus\" label=\"状态\"  align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.orgStatus===1?'启用':scope.row.orgStatus===2?'禁用':EMPTYTEXT}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\"  align=\"center\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <cc-svg-icon icon-class=\"edit\" @click=\"handleOrgans(scope.row.sysGuid)\"></cc-svg-icon>\r\n              <cc-svg-icon icon-class=\"maintain\" @click=\"handleView(scope.row)\"></cc-svg-icon>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <!-- 分页 -->\r\n      <div class=\"page-box\">\r\n         <Paginaction class='pagination' :goPage=\"pageNum\" :totalNum=\"totalNum\" @updateList=\"changePage\" ref=\"paginationEvent\"/>\r\n      </div>\r\n    </div>\r\n     <!-- 新增.编辑机构弹窗 -->\r\n     <addOrgan v-model=\"organsDialog\" :id=\"sysGuid\" @refresh=\"getDatalist\"></addOrgan>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import addOrgan from './addOrgan' //新增、编辑机构\r\n  export default {\r\n    name: 'organs-list',\r\n    components: {\r\n      addOrgan,\r\n    },\r\n    data() {\r\n      return {\r\n        orgtypeOption:{\r\n          1:\"省卫计委\",\r\n          2:\"地市卫计委\",\r\n          3:\"县级卫计委\",\r\n          4:\"乡镇卫生院\",\r\n          5:\"村级卫生室\",\r\n          6:\"省外医疗机构\",\r\n          7:\"其他医疗机构\"\r\n        }, //机构类型\r\n        searchKey:{\r\n          organizationIdLike:'',//机构编码\r\n          nameLike:'', //机构名称\r\n          parentOrganizationNameLike:'',//上级机\r\n        },\r\n        pageNum:1,//当前页\r\n        pageSize:10,//每页条数\r\n        totalNum: 0, //总条数\r\n        dataList: [], //机构列表\r\n        organsDialog:false, //新增编辑机构弹窗\r\n        sysGuid:'',//系统唯一标识\r\n      }\r\n    },\r\n    created() {\r\n       this.getDatalist() //获取机构列表\r\n    },\r\n    methods: {\r\n      //查看详情\r\n      handleView(scope) {\r\n        this.$router.push({\r\n          path: '/basicData-manage/organs-manage/organMaintain?id=' + scope.organizationId\r\n        })\r\n      },\r\n      //新增编辑机构\r\n      handleOrgans(id){\r\n        this.organsDialog = true\r\n        this.sysGuid = id?id:''\r\n      },\r\n      //查询\r\n      querylist() {\r\n        this.pageNum = 1\r\n        this.getDatalist()\r\n      },\r\n      //重置\r\n      Refreshlist() {\r\n        this.pageNum = 1\r\n        this.pageSize = 10\r\n        Object.keys(this.searchKey).forEach(k => this.searchKey[k] = '')\r\n        this.getDatalist()\r\n      },\r\n      //分页改变\r\n      changePage(query){\r\n        this.pageNum = query.pageNum\r\n        this.pageSize = query.pageSize\r\n        this.getDatalist()\r\n      },\r\n      //获取机构列表\r\n      getDatalist() {\r\n        this.$emit(\"viewLoad\", true);\r\n        let params = {}\r\n        params.pageNum  = this.pageNum\r\n        params.pageSize = this.pageSize\r\n        params = Object.assign({},params,this.searchKey)\r\n        this.$http.post(process.env.VUE_APP_API + '/service/organization/getByPage', params).then(res => {\r\n          if (res.code===200) {\r\n            this.dataList = res.data.list || [] //机构列表\r\n            this.totalNum = res.data.total //总条数\r\n            this.pageNum = res.data.pageNum //当前页\r\n            this.pageSize = res.data.pageSize //每页条数\r\n          } else {\r\n            this.$message.error(res.msg);\r\n          }\r\n          this.$emit(\"viewLoad\", false);\r\n        })\r\n        .catch(error => {\r\n          this.$emit(\"viewLoad\", false);\r\n          this.$message.error(error);\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang='less' scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=6b2d368a&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b2d368a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addOrgan.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addOrgan.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}