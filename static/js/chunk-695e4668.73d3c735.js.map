{"version":3,"sources":["webpack:///./src/views/login/login.vue?d0da","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/assign.js","webpack:///./src/views/login/login.vue?e464","webpack:///./src/assets/images/login-main.png","webpack:///./src/views/login/login.vue?d237","webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?b0ba","webpack:///./src/views/login/login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_26d518ec_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_26d518ec_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_1_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_1_lang_less___WEBPACK_IMPORTED_MODULE_0___default","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","keyup","$event","type","indexOf","_k","keyCode","key","handlerLogin","ref","attrs","model","loginForm","rules","prop","placeholder","clearable","blur","getOrganizationList","value","callback","$$v","$set","trim","expression","slot","icon-class","_l","item","organizationId","label","organizationName","src","code","alt","click","getVerificationCode","_e","checked","_v","to","size","staticRenderFns","loginvue_type_script_lang_js_","name","data","utils","organizationOption","wrongTimes","codeStatus","accountNo","passwords","keyId","validateCode","required","message","trigger","validator","formRule","validateEAN","created","getWrongTime","localStorage","getItem","JSON","parse","userInfo","keys_default","length","decrypt","methods","_this","$http","noTokenPost","then","res","organizationList","$message","error","catch","_this2","post","Number","_this3","$refs","validate","valid","setItem","encrypt","assign_default","stringify_default","removeItem","params","projectType","$store","dispatch","_ref","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","success","result","window","location","reload","msg","stop","_x","apply","arguments","login_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-695e4668.73d3c735.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=26d518ec&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=26d518ec&lang=less&scoped=true&\"","module.exports = require(\"core-js/library/fn/object/assign\");","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=1&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=1&lang=less&\"","module.exports = __webpack_public_path__ + \"static/img/login-main.2199bb89.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cc-login\"},[_c('div',{staticClass:\"cc-login-wrapper\"},[_vm._m(0),_c('div',{staticClass:\"cc-login-right\"},[_c('div',{staticClass:\"cc-login-form\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handlerLogin($event)}}},[_vm._m(1),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"accountNo\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\",\"clearable\":\"\"},on:{\"blur\":function($event){return _vm.getOrganizationList()}},model:{value:(_vm.loginForm.accountNo),callback:function ($$v) {_vm.$set(_vm.loginForm, \"accountNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.accountNo\"}},[_c('cc-svg-icon',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"icon-class\":\"user\"},slot:\"prefix\"})],1)],1),_c('el-form-item',{attrs:{\"prop\":\"passwords\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"clearable\":\"\"},model:{value:(_vm.loginForm.passwords),callback:function ($$v) {_vm.$set(_vm.loginForm, \"passwords\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"loginForm.passwords\"}},[_c('cc-svg-icon',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"icon-class\":\"lock\"},slot:\"prefix\"})],1)],1),_c('el-form-item',{attrs:{\"prop\":\"organizationId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择机构\",\"clearable\":\"\"},model:{value:(_vm.loginForm.organizationId),callback:function ($$v) {_vm.$set(_vm.loginForm, \"organizationId\", $$v)},expression:\"loginForm.organizationId\"}},[_vm._l((_vm.organizationOption),function(item){return _c('el-option',{key:item.organizationId,attrs:{\"label\":item.organizationName,\"value\":item.organizationId}})}),_c('cc-svg-icon',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"icon-class\":\"build\"},slot:\"prefix\"})],2)],1),(_vm.codeStatus)?_c('el-form-item',{staticClass:\"code-box\",attrs:{\"prop\":\"validateCode\"}},[_c('el-input',{staticClass:\"small-box\",attrs:{\"clearable\":\"\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.loginForm.validateCode),callback:function ($$v) {_vm.$set(_vm.loginForm, \"validateCode\", $$v)},expression:\"loginForm.validateCode\"}},[_c('cc-svg-icon',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"icon-class\":\"code\"},slot:\"prefix\"})],1),_c('img',{attrs:{\"src\":'data:image/jpeg;base64,'+_vm.code,\"alt\":\"\"},on:{\"click\":_vm.getVerificationCode}})],1):_vm._e(),_c('el-form-item',[_c('div',{staticClass:\"handle-box\"},[_c('el-checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住密码\")]),_c('router-link',{staticClass:\"forget\",attrs:{\"to\":\"/forget-pass\"}},[_vm._v(\"忘记密码?\")])],1)]),_c('el-form-item',[_c('el-button',{staticClass:\"login-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handlerLogin}},[_vm._v(\"登录\")])],1)],1)],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cc-login-left\"},[_c('div',{staticClass:\"logo-box\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/logo.png\"),\"alt\":\"\"}})]),_c('img',{attrs:{\"src\":require(\"../../assets/images/login-main.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h1',[_vm._v(\"家庭医生服务平台\")])])}]\n\nexport { render, staticRenderFns }","/*\r\n * @Author: xiaoshui.candy \r\n * @Date: 2019-06-11 18:06:19 \r\n * @Last Modified by: xiaoshui.candy\r\n * @Last Modified time: 2019-07-12 15:59:11\r\n */\r\n\r\n<template>\r\n  <div class=\"cc-login\">\r\n    <div class=\"cc-login-wrapper\">\r\n      <!-- 左 -->\r\n      <div class=\"cc-login-left\">\r\n        <div class=\"logo-box\">\r\n          <img src=\"../../assets/images/logo.png\" alt=\"\">\r\n        </div>\r\n        <img src=\"../../assets/images/login-main.png\" alt=\"\">\r\n      </div>\r\n      <!-- 右 -->\r\n      <div class=\"cc-login-right\">\r\n        <div class=\"cc-login-form\" @keyup.enter=\"handlerLogin\">\r\n          <div class=\"title\">\r\n            <h1>家庭医生服务平台</h1>\r\n          </div>\r\n          <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"rules\">\r\n            <el-form-item prop=\"accountNo\">\r\n              <el-input v-model.trim=\"loginForm.accountNo\" placeholder=\"请输入用户名\" clearable @blur=\"getOrganizationList()\">\r\n                <cc-svg-icon class=\"icon\" slot=\"prefix\" icon-class=\"user\"></cc-svg-icon>\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"passwords\">\r\n              <el-input v-model.trim=\"loginForm.passwords\" type=\"password\" placeholder=\"请输入密码\" clearable>\r\n                <cc-svg-icon class=\"icon\" slot=\"prefix\" icon-class=\"lock\"></cc-svg-icon>\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"organizationId\">\r\n              <el-select placeholder=\"请选择机构\" v-model=\"loginForm.organizationId\" clearable>\r\n                <el-option v-for=\"item in organizationOption\" :key=\"item.organizationId\" :label=\"item.organizationName\" :value=\"item.organizationId\" />\r\n                <cc-svg-icon class=\"icon\" slot=\"prefix\" icon-class=\"build\"></cc-svg-icon>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item  prop=\"validateCode\" v-if=\"codeStatus\" class=\"code-box\">\r\n              <el-input clearable v-model=\"loginForm.validateCode\" placeholder=\"请输入验证码\" class=\"small-box\">\r\n                <cc-svg-icon class=\"icon\" slot=\"prefix\" icon-class=\"code\"></cc-svg-icon>\r\n              </el-input>\r\n              <img  @click=\"getVerificationCode\" :src=\"'data:image/jpeg;base64,'+code\" alt=\"\">\r\n            </el-form-item>\r\n            <el-form-item >\r\n              <div class=\"handle-box\">\r\n                <el-checkbox v-model=\"checked\">记住密码</el-checkbox>\r\n                <router-link to=\"/forget-pass\" class=\"forget\">忘记密码?</router-link>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" size=\"small\" @click=\"handlerLogin\" class=\"login-btn\">登录</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport utils from \"../../util/utils\"; //工具类\r\nimport formRule from \"../../util/formRule\"; //表单验证\r\nexport default {\r\n  name: \"cc-login\",\r\n  data() {\r\n    return {\r\n      utils:utils, //工具类\r\n      organizationOption:[],//机构下拉列表\r\n      checked: false, //是否记住密码\r\n      wrongTimes: 0, //错误次数\r\n      key:'6p2wf0wi9hhc2a7h',//aes加密key\r\n      codeStatus:false, //验证码是否显示\r\n      code:'',//验证码\r\n      loginForm: {\r\n        accountNo: \"\", //用户名\r\n        passwords: \"\", //密码\r\n        organizationId:'',//机构id\r\n        keyId:'', // 验证码key\r\n        validateCode:'' //验证码\r\n      },\r\n      rules: {\r\n        accountNo: [\r\n          { required: true, message: \"用户名不能为空\", trigger: \"blur\" },\r\n          { validator: formRule.validateEAN, trigger: 'blur' }\r\n        ],\r\n        passwords: [\r\n          { required: true, message: \"密码不能为空\", trigger: \"blur\" }\r\n        ],\r\n        organizationId: [\r\n          { required: true, message: '请选择机构', trigger: 'change' }\r\n        ],\r\n        validateCode:[\r\n          { required: true, message: '请输入验证码', trigger: 'change' }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getWrongTime(); //记录登录错误次数\r\n    //记住密码时数据处理\r\n    this.checked = localStorage.getItem(\"rememberChecked\")?JSON.parse(localStorage.getItem(\"rememberChecked\")):false\r\n    if(this.checked===true){\r\n      let userInfo  = localStorage.getItem(\"userInfo\")?JSON.parse(localStorage.getItem(\"userInfo\")):{}\r\n      if(Object.keys(userInfo).length>0){\r\n        userInfo.passwords = utils.decrypt(userInfo.passwords,this.key) //解密密码\r\n      }\r\n      this.loginForm = userInfo\r\n      this.getOrganizationList() //获取机构列表\r\n    }\r\n  },\r\n  methods: {\r\n    //获取机构列表\r\n    getOrganizationList(){\r\n      if(this.loginForm.accountNo){\r\n        this.$http.noTokenPost(process.env.VUE_APP_API+'/login/getUserOrganizationList',{\r\n          \"accountNo\":this.loginForm.accountNo\r\n        }).then(res => {\r\n          if(res.code===200){\r\n            this.organizationOption = res.data.organizationList\r\n          }else{\r\n            this.organizationOption = []\r\n            this.$message.error('该用户无对应机构');\r\n          }\r\n          this.loginForm.organizationId =this.organizationOption.length>0? this.organizationOption[0].organizationId:''\r\n        })\r\n        .catch(error => {\r\n          this.organizationOption = []\r\n          this.$message.error(error);\r\n        });\r\n      }\r\n    },\r\n    // 获取验证码\r\n    getVerificationCode(){\r\n     this.$http.post(process.env.VUE_APP_API+'/login/getValidateCode').then(res=>{\r\n       if(res.code === 200){\r\n         this.loginForm.keyId = res.data.keyId\r\n         this.code = res.data.validateCode\r\n       }\r\n      }).catch((error) => {\r\n          this.$message.error(error)\r\n      })\r\n    },\r\n    // 记录登录错误次数\r\n    getWrongTime () {\r\n      let wrongTimes = localStorage.getItem('wrongTimes')\r\n      if(wrongTimes) {\r\n        this.wrongTimes = Number(wrongTimes)\r\n        if(this.wrongTimes >= 3)  {\r\n          this.codeStatus = true\r\n          this.getVerificationCode()\r\n        }else{\r\n          this.codeStatus = false \r\n        }\r\n      }else{\r\n        this.wrongTimes = 0\r\n      }\r\n    },\r\n    //登录\r\n    handlerLogin() {\r\n      this.$refs.loginForm.validate(valid => {\r\n        if (valid) {\r\n          //是否记住密码\r\n          if(this.checked===true){\r\n            localStorage.setItem(\"rememberChecked\",this.checked)\r\n            let userInfo = {}\r\n            userInfo.passwords = utils.encrypt(this.loginForm.passwords,this.key) //加密密码\r\n            userInfo.validateCode = ''\r\n            userInfo =  Object.assign({},this.loginForm,userInfo)\r\n            localStorage.setItem(\"userInfo\",JSON.stringify(userInfo))\r\n          }else{\r\n            localStorage.removeItem(\"rememberChecked\")\r\n            localStorage.removeItem(\"userInfo\")\r\n          }\r\n          let params = {}\r\n          params.projectType = 2\r\n          params = Object.assign({},this.loginForm,params)\r\n          this.$store.dispatch(\"login\",params).then(async res => {\r\n            if (res.code===200) {\r\n              this.wrongTimes = 0\r\n              localStorage.removeItem('wrongTimes')\r\n              this.$message.success(\"登录成功\");\r\n              await this.$store.dispatch('getUserInfo').then(result => {\r\n                window.location.reload()\r\n              })\r\n            } else {\r\n              this.$message.error(res.msg);\r\n              this.getWrongTime();\r\n              this.wrongTimes ++\r\n              localStorage.setItem('wrongTimes',this.wrongTimes)\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.cc-login {\r\n  background: url(\"../../assets/images/login-h.png\") no-repeat center center;\r\n  height: 100vh;\r\n  background-size: cover;\r\n  overflow: hidden;\r\n  &-wrapper {\r\n    height:90vh;\r\n    width:80%;\r\n    margin:30px auto;\r\n    box-shadow: -7px 3px 13px 0px\trgba(255, 237, 207, 0.46);\r\n    background-color:#fff;\r\n    border-radius: 30px;\r\n    background-size: contain;\r\n    position:relative;\r\n    &::before{\r\n      position:absolute;\r\n      width:90%;\r\n      height:70px;\r\n      content:'';\r\n      bottom:-70px;\r\n      left:5%;\r\n      background: url(\"../../assets/images/login-b.png\") no-repeat center bottom 0px/cover;\r\n    }\r\n  }\r\n  &-left{\r\n    position:absolute;\r\n    top:0;\r\n    width:60%;\r\n    padding:40px 50px;\r\n    box-sizing:border-box;\r\n    height:100%;\r\n    overflow: hidden;\r\n    img{\r\n      max-width:100%;\r\n    }\r\n    .logo-box{\r\n      margin-bottom:30px;\r\n    }\r\n  }\r\n  &-right {\r\n    position:absolute;\r\n    top:50%;\r\n    right:20px;\r\n    width:40%;\r\n    display:flex;\r\n    justify-content:center;\r\n    transform: translateY(-50%);\r\n  }\r\n  &-form{\r\n    width:300px;\r\n    .title{\r\n      margin-bottom:50px;\r\n      h1{\r\n        font-size:36px;\r\n        color:#ff8a00;\r\n        padding-bottom:20px;\r\n        position: relative;\r\n        &::after{\r\n          position: absolute;\r\n          content:'';\r\n          left:0;\r\n          bottom:0px;\r\n          width:70px;\r\n         \theight: 2px;\r\n\t        background-image: linear-gradient(90deg, \t#ff8a00 0%,\t#ffa904 100%);\r\n        }\r\n      }\r\n    }\r\n    .icon{\r\n      padding:0px 10px;\r\n      font-size:18px;\r\n      color:#ff8a00;\r\n    }\r\n    .el-select{\r\n      width:100%;\r\n    }\r\n    .handle-box{\r\n      display:flex;\r\n      justify-content:space-between;\r\n      .forget{\r\n        color:#2fb1fc;\r\n      }\r\n    }\r\n    .login-btn{\r\n      background-image: linear-gradient(-90deg, #fec532 0%, #fcac2e 100%);\r\n      box-shadow: 0px 4px 8px 0px rgba(194, 142, 20, 0.3);\r\n      height:42px;\r\n      border-radius:6px;\r\n      width:100%;\r\n      font-size:16px;\r\n      font-weight:bold;\r\n    }\r\n    .code-box{\r\n      .small-box{\r\n        width:170px;\r\n        margin-right:10px;\r\n      }\r\n      img{\r\n        width:120px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n.cc-login-form{\r\n  .el-input__inner{\r\n    height:44px;\r\n    line-height:44px;\r\n    padding-left:40px;\r\n    background-color: #fcf9f5;\r\n    border-radius: 6px;\r\n    border:none;\r\n  }\r\n  .el-input__prefix,.el-input__suffix{\r\n    height:44px;\r\n    line-height:44px;\r\n  }\r\n  .el-form-item__error{\r\n    left:40px;\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=26d518ec&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=26d518ec&lang=less&scoped=true&\"\nimport style1 from \"./login.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26d518ec\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}